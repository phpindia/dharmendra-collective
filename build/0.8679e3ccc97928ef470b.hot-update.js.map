{"version":3,"file":"0.8679e3ccc97928ef470b.hot-update.js","sources":["/home/deligence/Music/devlopment/collectivetemp/src/components/Header/HeaderLinks.jsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport { \n  NavItem, \n  Nav, \n  Button, \n  Modal, \n  Tooltip, \n  Popover,\n  Form,\n  FormGroup,\n  Col,\n  ControlLabel,\n  FormControl,\n  ButtonToolbar\n } from \"react-bootstrap\";\n \n import NotificationSystem from \"react-notification-system\";\n import { style } from \"variables/Variables.jsx\";\n import history from \"../../history\";\n import firebase from \"firebase\";\n\n import firebaseConf from '../../config';\n console.log(\"firebaecf\", firebaseConf);\n\nclass HeaderLinks extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.formSubmitted = this.formSubmitted.bind(this);\n\n    this.handleLoginClick = this.handleLoginClick.bind(this);\n    this.handleLogoutClick = this.handleLogoutClick.bind(this);\n    //this.state = {isLoggedIn: false};\n\n    this.state = {\n      _notificationSystem: null,\n      show: false,\n      isLoggedIn: false,\n      exists: false,\n    };\n  }\n\n  componentDidMount() {\n    //this.interval = setInterval(this.fetchNews, 3600000);\n    //window.firebase = firebaseConf;\n    let data =''\n    setTimeout(() => {\n      data = firebaseConf.auth().currentUser\n      if(data) {\n        this.setState({exists: true});\n      }\n      console.log(\"===== Nitin \", data)\n    },2000);\n    console.log(\"inside did mount^^^^^^^^^^^^^^\");\n    console.log(\"ffirebase.auth().currentUser aaa^^^^^^^^\", firebaseConf.auth().currentUser);\n  }\n\n  handleLoginClick() {\n    console.log(\"click handleloginbutton\");\n    this.setState({isLoggedIn: true});\n  }\n\n  // handleLogoutClick() {\n  //   this.setState({isLoggedIn: false});\n  // }\n\n\n  handleClose() {\n    this.setState({ isLoggedIn: false });\n  }\n\n  handleShow() {\n    \n    this.setState({ show: true });\n  }\n\n  handleLogoutClick(){console.log(this.props);\n    // Firebase auth signuot\n    firebaseConf.auth().signOut().then(function() {\n      // Sign-out successful.    \n      //localStorage.removeItem(\"firebase:host:project-xxxxxxxxxxx.firebaseio.com\");\n      // Sign-out successful.\n      console.log(\"Logout successful\");\n      //this.setState({ show: true });\n      this.setState({isLoggedIn: false});\n      this.setState({ show: true });\n      //window.location.href='/dashboard';\n      //$state.go(\"login\");\n      //this.context.router.push('/dashboard');\n      //this.context.router.history.push('/dashboard');\n      //this.context.router.replaceWith('/dashboard');\n      history.push(\"/dashboard\");\n\n    }.bind(this), function(error) {\n      // An error happened.\n      console.log(error);\n\n    });\n  }\n\n  formSubmitted(event) {\n    event.preventDefault();\n    console.log(\"email=======================>\", event.target.email.value);\n    console.log(\"password=======================>\", event.target.password.value);\n    let email = event.target.email.value;\n    let password = event.target.password.value;\n    console.log(\"login button called\");\n\n    if ( email !== 'admin-collective@gmail.com') {\n      this.setState({isLoggedIn: true});\n      this.setState({ _notificationSystem: this.refs.notificationSystem });\n      \n      var _notificationSystem = this.refs.notificationSystem;\n      _notificationSystem.addNotification({\n        title: <span data-notify=\"icon\" className=\"pe-7s\" />,\n        message: (\n          <div>\n            <b>Login Failed!. You don't have access privilege</b>\n          </div>\n        ),\n        level: \"error\",\n        position: \"tr\",\n        autoDismiss: 5\n      });\n      return false;\n    }\n      \n\n    \n\n    //console.log(firebaseConf.auth().currentUser);\n\n    // firebaseConf.auth().createUserWithEmailAndPassword('ashish@deligence.com',\"pass123\").catch(function(error) {\n    //   // Handle Errors here.\n    //   var errorCode = error.code;\n    //   var errorMessage = error.message;\n    //   console.log(\"new user error\", error);\n     \n    // });\n\n    // Firebase auth login\n    firebaseConf.auth().signInWithEmailAndPassword(email, password).then(function () {\n      // User is signed in.\n      console.log(\"login success\")\n      this.setState({ show: false });\n      this.setState({isLoggedIn: true});\n      // Success notification message\n      history.push(\"/dashboard\");\n\n    }.bind(this)).catch(function(error) {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      console.log(\"error message\", error);\n      console.log(\"login failed\");\n    });\n  }\n\n  render() {\n    console.log(\"firebase.auth().currentUser OOOOO\", firebase);\n    let isLoggedIn = this.state.isLoggedIn;\n    const popover = (\n      <Popover id=\"modal-popover\" title=\"popover\">\n        very popover. such engagement\n      </Popover>\n    );\n\n    const tooltip = <Tooltip id=\"modal-tooltip\">wow.</Tooltip>;\n\n    const notification = (\n      <div>\n        <i className=\"fa fa-globe\" />\n        <b className=\"caret\" />\n        <span className=\"notification\">5</span>\n        <p className=\"hidden-lg hidden-md\">Notification</p>\n      </div>\n    );\n    return (\n      <div>\n        <NotificationSystem ref=\"notificationSystem\" style={style} />\n        {/*<Nav>\n          <NavItem eventKey={1} href=\"#\">\n            <i className=\"fa fa-dashboard\" />\n            <p className=\"hidden-lg hidden-md\">Dashboard</p>\n          </NavItem>\n          <NavDropdown\n            eventKey={2}\n            title={notification}\n            noCaret\n            id=\"basic-nav-dropdown\"\n          >\n            <MenuItem eventKey={2.1}>Notification 1</MenuItem>\n            <MenuItem eventKey={2.2}>Notification 2</MenuItem>\n            <MenuItem eventKey={2.3}>Notification 3</MenuItem>\n            <MenuItem eventKey={2.4}>Notification 4</MenuItem>\n            <MenuItem eventKey={2.5}>Another notifications</MenuItem>\n          </NavDropdown>\n          <NavItem eventKey={3} href=\"#\">\n            <i className=\"fa fa-search\" />\n            <p className=\"hidden-lg hidden-md\">Search</p>\n          </NavItem>\n        </Nav>*/}\n        <Nav pullRight>\n          {/*<NavItem eventKey={1} href=\"#\">\n            Account\n          </NavItem>\n          <NavDropdown\n            eventKey={2}\n            title=\"Dropdown\"\n            id=\"basic-nav-dropdown-right\"\n          >\n            <MenuItem eventKey={2.1}>Action</MenuItem>\n            <MenuItem eventKey={2.2}>Another action</MenuItem>\n            <MenuItem eventKey={2.3}>Something</MenuItem>\n            <MenuItem eventKey={2.4}>Another action</MenuItem>\n            <MenuItem eventKey={2.5}>Something</MenuItem>\n            <MenuItem divider />\n            <MenuItem eventKey={2.5}>Separated link</MenuItem>\n          </NavDropdown>*/}\n          <NavItem eventKey={3} href=\"#\">\n              <ButtonToolbar>\n              {firebaseConf.auth().currentUser ? (\n                  <button className=\"btn btn-danger btn-fill\" onClick={this.handleLogoutClick} >\n                    Log Out\n                  </button>\n                ) : (\n                  <button className=\"btn btn-info btn-fill\" onClick={this.handleLoginClick} >Sign In</button>\n              )}\n            </ButtonToolbar>\n          </NavItem>\n        </Nav>\n\n        <Modal show={this.state.isLoggedIn && !firebaseConf.auth().currentUser} onHide={this.handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Sign In</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form horizontal onSubmit={this.formSubmitted}>\n              <FormGroup controlId=\"formHorizontalEmail\">\n                <Col componentClass={ControlLabel} sm={2}>\n                  Email\n                </Col>\n                <Col sm={10}>\n                  <FormControl type=\"email\" placeholder=\"Email\" name=\"email\" />\n                </Col>\n              </FormGroup>\n\n              <FormGroup controlId=\"formHorizontalPassword\">\n                <Col componentClass={ControlLabel} sm={2}>\n                  Password\n                </Col>\n                <Col sm={10}>\n                  <FormControl type=\"password\" placeholder=\"Password\" name=\"password\" />\n                </Col>\n              </FormGroup>\n\n              <FormGroup>\n                <Col smOffset={2} sm={10}>\n                  <Button type=\"submit\" className=\"btn btn-info btn-fill\">Sign In</Button>\n                </Col>\n              </FormGroup>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={this.handleClose}>Close</Button>\n          </Modal.Footer>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default HeaderLinks;\n\n\n// WEBPACK FOOTER //\n// src/components/Header/HeaderLinks.jsx"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAXA;AAiBA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAIA;AACA;AACA;AATA;AAWA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AADA;AAjBA;AA8BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAJA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAJA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AAnBA;AADA;AA2BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AA/BA;AAtDA;AA2FA;;;;AAxPA;AACA;AA0PA;;;;A","sourceRoot":""}